<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title></title>

</head>

<body>
    <div>
        <div>使用者留言</div>
        <textarea id="messageBox"></textarea>
        <div>
            <input id="myInput" type="text" placeholder="請輸入留言內容">
            <button onclick="post();">提交</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAnuSwUassylnbiKAOBEGweeToROgVi15A",
            authDomain: "aaaaa-e3c02.firebaseapp.com",
            projectId: "aaaaa-e3c02",
            storageBucket: "aaaaa-e3c02.appspot.com",
            messagingSenderId: "734315927781",
            appId: "1:734315927781:web:d6d290d2f5985267349c0c",
            measurementId: "G-KGEXDP87EH"
        };
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const dbboard = db.collection("comment").doc("comment");
        var comments;
        dbboard.get().then((doc) => {
            comments = doc.data()["comment"];
            document.getElementById("messageBox").value = comments;
        })
            .catch((error) => {
                console.log("Error getting document:", error);
            });
        function post() {
            var text = document.getElementById("myInput").value;
            dbboard.set({ "comment": comments + "," + text });
            dbboard.get().then((doc) => {
                comments = doc.data()["comment"];
                document.getElementById("messageBox").value = comments;
            })
                .catch((error) => {
                    console.log("Error getting document:", error);
                });
        }
    </script>

</body>

</html>